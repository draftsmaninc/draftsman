"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[649],{35:(e,t,n)=>{n.r(t),n.d(t,{AppHandle:()=>k});var o=n(5155),r=n(2596),d=n(2115),a=n(1603),i=n(1772),s=n(285),l=n(9476),c=n(6130);let u={[l.yX.Top]:"flex-col-reverse left-1/2 -translate-y-full -translate-x-1/2",[l.yX.Bottom]:"flex-col left-1/2 translate-y-[10px] -translate-x-1/2",[l.yX.Left]:"flex-row-reverse top-1/2 -translate-x-full -translate-y-1/2",[l.yX.Right]:"top-1/2 -translate-y-1/2 translate-x-[10px]"},p=e=>{let{showButton:t=!0,position:n=l.yX.Bottom,children:r,...d}=e,a=u[n||l.yX.Bottom],i=n===l.yX.Top||n===l.yX.Bottom;return(0,o.jsx)(c.O,{position:n,id:d.id,...d,children:t&&(0,o.jsxs)("div",{className:"absolute flex items-center ".concat(a," pointer-events-none"),children:[(0,o.jsx)("div",{className:"bg-gray-300 ".concat(i?"h-10 w-[1px]":"h-[1px] w-10")}),(0,o.jsx)("div",{className:"nodrag nopan pointer-events-auto",children:r})]})})};var g=n(4838),f=n(2649),h=n(8420);function v(e){let{onAddNode:t,filterNodes:n=()=>!0}=e;return(0,o.jsxs)(g.DropdownMenu,{open:!0,children:[(0,o.jsx)(g.DropdownMenuTrigger,{}),(0,o.jsxs)(g.DropdownMenuContent,{className:"w-64",children:[(0,o.jsx)(g.lp,{children:"Nodes"}),Object.values(f.Ay).filter(n).map(e=>{let n=(null==e?void 0:e.icon)?h.O[e.icon]:void 0;return(0,o.jsx)("a",{onClick:()=>t(e.id),children:(0,o.jsxs)(g._2,{className:"flex items-center space-x-2",children:[n?(0,o.jsx)(n,{"aria-label":null==e?void 0:e.icon}):null,(0,o.jsxs)("span",{children:["New ",e.title]})]})},e.title)})]})]})}var y=n(8164);let m=e=>"source"===e?e=>"transform-node"===e.id||"join-node"===e.id||"branch-node"===e.id||"output-node"===e.id:e=>"transform-node"===e.id||"join-node"===e.id||"branch-node"===e.id||"initial-node"===e.id,x=(e,t,n)=>o=>{var r;return{addNodeInBetween:o.addNodeInBetween,draggedNodes:o.draggedNodes,connectionSites:o.connectionSites,isPotentialConnection:(null==(r=o.potentialConnection)?void 0:r.id)==="handle-".concat(e,"-").concat(t,"-").concat(n)}},w=e=>"source"===e?50:-65;function N(e,t,n,o){return{x:e.x+t,y:e.y+n+w(o)}}let b={x:0,y:0};function k(e){var t,n,l;let{className:c,position:u,type:g,id:f,x:h,y:w}=e,k=null!=(n=(0,i.useNodeId)())?n:"",j=(0,i.useNodeConnections)({handleType:g,handleId:null!=f?f:void 0}),_=(0,i.useConnection)(e=>e.inProgress),{isOpen:C,toggleDropdown:O}=function(){let[e,t]=(0,d.useState)(!1),n=(0,d.useRef)(null),o=()=>t(!1);return(0,d.useEffect)(()=>{let t=e=>{n.current&&!n.current.contains(e.target)&&o()};return e&&document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}},[e]),{isOpen:e,toggleDropdown:()=>t(e=>!e),closeDropdown:o,ref:n}}(),{draggedNodes:S,addNodeInBetween:M,connectionSites:T,isPotentialConnection:E}=(0,y.C)((0,a.k)(x(k,g,f))),A=null!=(l=null==(t=(0,i.useInternalNode)(k))?void 0:t.internals.positionAbsolute)?l:b,R=(0,d.useCallback)(e=>{k&&(M({type:e,[g]:k,["".concat(g,"HandleId")]:f,position:N(A,h,w,g)}),O())},[k,f,g,A,h,w,O,M]),H=0===j.length&&!_&&!S.has(k),D="handle-".concat(k,"-").concat(g,"-").concat(f);return(0,d.useEffect)(()=>(H&&T.set(D,{position:N(A,h,w,g),[g]:{node:k,handle:f},type:g,id:D}),()=>{T.delete(D)}),[A,T,D,f,k,g,h,w,H]),(0,o.jsxs)(p,{type:g,position:u,id:f,className:(0,r.A)("left-[-6px] top-[-6px]",c),style:{transform:"translate(".concat(h,"px, ").concat(w,"px)")},showButton:H,children:[(0,o.jsx)(s.$,{onClick:()=>{O()},size:"icon",variant:"secondary",className:(0,r.A)("border h-6 w-6 rounded-xl hover:bg-card",{"border-red-500":E}),children:"+"}),C&&(0,o.jsx)("div",{className:"absolute z-50 mt-2 left-1/2 transform -translate-x-1/2",children:(0,o.jsx)(v,{onAddNode:R,filterNodes:m(g)})})]})}},285:(e,t,n)=>{n.d(t,{$:()=>s});var o=n(5155);n(2115);var r=n(9708),d=n(2085),a=n(9434);let i=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function s(e){let{className:t,variant:n,size:d,asChild:s=!1,...l}=e,c=s?r.DX:"button";return(0,o.jsx)(c,{"data-slot":"button",className:(0,a.cn)(i({variant:n,size:d,className:t})),...l})}},815:(e,t,n)=>{n.d(t,{l:()=>r,z:()=>d});let o="draftsman-graph";function r(e){localStorage.setItem(o,JSON.stringify(e))}function d(){let e=localStorage.getItem(o);return e?JSON.parse(e):null}},1472:(e,t,n)=>{n.d(t,{Y:()=>a});var o=n(5155),r=n(2115),d=n(9434);let a=(0,r.forwardRef)((e,t)=>{let{className:n,selected:r,...a}=e;return(0,o.jsx)("div",{ref:t,className:(0,d.cn)("relative rounded-md border bg-card p-5 text-card-foreground",n,r?"border-muted-foreground shadow-lg":"","hover:ring-1"),tabIndex:0,...a})});a.displayName="BaseNode"},2649:(e,t,n)=>{n.d(t,{hD:()=>_,_O:()=>O,Ay:()=>S});var o=n(9476),r=n(5410),d=n(5155),a=n(2115),i=n(5690),s=n(1772),l=n(4020),c=n(4126),u=n(9434),p=n(9708),g=n(285),f=n(4838);let h=(0,a.forwardRef)((e,t)=>{let{className:n,...o}=e;return(0,d.jsx)("header",{ref:t,...o,className:(0,u.cn)("flex items-center justify-between gap-2 px-3 py-2",n)})});h.displayName="NodeHeader";let v=(0,a.forwardRef)((e,t)=>{let{className:n,asChild:o,...r}=e,a=o?p.DX:"h3";return(0,d.jsx)(a,{ref:t,...r,className:(0,u.cn)(n,"user-select-none flex-1 font-semibold")})});v.displayName="NodeHeaderTitle";let y=(0,a.forwardRef)((e,t)=>{let{className:n,...o}=e;return(0,d.jsx)("span",{ref:t,...o,className:(0,u.cn)(n,"[&>*]:size-5")})});y.displayName="NodeHeaderIcon";let m=(0,a.forwardRef)((e,t)=>{let{className:n,...o}=e;return(0,d.jsx)("div",{ref:t,...o,className:(0,u.cn)("ml-auto flex items-center gap-1 justify-self-end",n)})});m.displayName="NodeHeaderActions";let x=(0,a.forwardRef)((e,t)=>{let{className:n,label:o,title:r,...a}=e;return(0,d.jsx)(g.$,{ref:t,variant:"ghost","aria-label":o,title:null!=r?r:o,className:(0,u.cn)(n,"nodrag size-6 p-1"),...a})});x.displayName="NodeHeaderAction",(0,a.forwardRef)((e,t)=>{let{trigger:n,children:o,...r}=e;return(0,d.jsxs)(f.DropdownMenu,{children:[(0,d.jsx)(f.DropdownMenuTrigger,{asChild:!0,children:(0,d.jsx)(x,{ref:t,...r,children:null!=n?n:(0,d.jsx)(l.A,{})})}),(0,d.jsx)(f.DropdownMenuContent,{children:o})]})}).displayName="NodeHeaderMenuAction";let w=()=>{let e=(0,s.useNodeId)(),{setNodes:t}=(0,s.useReactFlow)(),n=(0,a.useCallback)(()=>{t(t=>t.filter(t=>t.id!==e))},[e,t]);return(0,d.jsx)(x,{onClick:n,variant:"ghost",label:"Delete node",children:(0,d.jsx)(c.A,{})})};w.displayName="NodeHeaderDeleteAction";var N=n(5250),b=n(8420),k=n(1472),j=n(4787);n(35);let _={width:260,height:50},C={"initial-node":{id:"initial-node",title:"Initial Node",status:"initial",handles:[{type:"source",position:o.yX.Bottom,x:.5*_.width,y:_.height}],icon:"Rocket"},"transform-node":{id:"transform-node",title:"Transform Node",handles:[{type:"source",position:o.yX.Bottom,x:.5*_.width,y:_.height},{type:"target",position:o.yX.Top,x:.5*_.width,y:0}],icon:"Spline"},"join-node":{id:"join-node",title:"Join Node",status:"initial",handles:[{id:"true",type:"target",position:o.yX.Top,x:_.width-25,y:0},{id:"false",type:"target",position:o.yX.Top,x:25,y:0},{type:"source",position:o.yX.Bottom,x:.5*_.width,y:_.height}],icon:"Split"},"branch-node":{id:"branch-node",title:"Branch Node",status:"initial",handles:[{type:"target",position:o.yX.Top,x:.5*_.width,y:0},{id:"true",type:"source",position:o.yX.Bottom,x:25,y:_.height},{id:"false",type:"source",position:o.yX.Bottom,x:_.width-25,y:_.height}],icon:"Merge"},"output-node":{id:"output-node",title:"Output Node",handles:[{type:"target",position:o.yX.Top,x:.5*_.width,y:0}],icon:"CheckCheck"}};function O(e){let{type:t,id:n,position:o={x:0,y:0},data:d}=e,a=C[t];return{id:null!=n?n:(0,r.Ak)(),data:null!=d?d:{title:a.title,status:a.status,icon:a.icon},position:{x:o.x-.5*_.width,y:o.y-.5*_.height},type:t}}let S=C},4787:(e,t,n)=>{n.d(t,{U:()=>i});var o=n(5155);n(2115);var r=n(2596);let d=e=>{let{children:t}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"absolute -left-[1px] -top-[1px] h-[calc(100%+2px)] w-[calc(100%+2px)]",children:[(0,o.jsx)("style",{children:"\n        @keyframes spin {\n          from { transform: translate(-50%, -50%) rotate(0deg); }\n          to { transform: translate(-50%, -50%) rotate(360deg); }\n        }\n        .spinner {\n          animation: spin 2s linear infinite;\n          position: absolute;\n          left: 50%;\n          top: 50%;\n          width: 140%;\n          aspect-ratio: 1;\n          transform-origin: center;\n        }\n      "}),(0,o.jsx)("div",{className:"absolute inset-0 overflow-hidden rounded-[7px]",children:(0,o.jsx)("div",{className:"spinner rounded-full bg-[conic-gradient(from_0deg_at_50%_50%,_rgb(42,67,233)_0deg,_rgba(42,138,246,0)_360deg)]"})})]}),t]})},a=e=>{let{children:t,className:n}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:(0,r.A)("absolute -left-[1px] -top-[1px] h-[calc(100%+2px)] w-[calc(100%+2px)] rounded-[7px] border-2",n)}),t]})},i=e=>{let{status:t,children:n}=e;switch(t){case"loading":return(0,o.jsx)(d,{children:n});case"success":return(0,o.jsx)(a,{className:"border-emerald-600",children:n});case"error":return(0,o.jsx)(a,{className:"border-red-400",children:n});default:return(0,o.jsx)(o.Fragment,{children:n})}}},4801:(e,t,n)=>{n.d(t,{R:()=>l});var o=n(8251),r=n.n(o),d=n(2649);let a=new(r()),i={"elk.algorithm":"layered","elk.direction":"DOWN","elk.layered.spacing.edgeNodeBetweenLayers":"80","elk.spacing.nodeNode":"150","elk.layered.nodePlacement.strategy":"SIMPLE","elk.separateConnectedComponents":"true","elk.spacing.componentComponent":"150"};function s(e){return{id:e,layoutOptions:{side:"SOUTH"}}}async function l(e,t){var n;let o=new Set,r={id:"root",layoutOptions:i,edges:t.map(e=>{var t,n;return o.add(e.source),o.add(e.target),{id:e.id,sources:["".concat(e.source,"-source-").concat(null!=(t=e.sourceHandle)?t:null)],targets:["".concat(e.target,"-target-").concat(null!=(n=e.targetHandle)?n:null)]}}),children:e.reduce((e,t)=>{var n,r,a,i,l,c;if(!o.has(t.id))return e;let{targetPorts:u,sourcePorts:p}=function(e){let t=d.Ay[e.type].handles,n=[],o=[];return null==t||t.forEach(t=>{var r,d;"target"===t.type&&n.push({id:"".concat(e.id,"-target-").concat(null!=(r=t.id)?r:null),layoutOptions:{side:"NORTH"}}),"source"===t.type&&o.push(s("".concat(e.id,"-source-").concat(null!=(d=t.id)?d:null)))}),{targetPorts:n,sourcePorts:o}}(t);return e.push({id:t.id,width:null!=(i=null!=(a=t.width)?a:null==(n=t.measured)?void 0:n.width)?i:150,height:null!=(c=null!=(l=t.height)?l:null==(r=t.measured)?void 0:r.height)?c:50,ports:[s(t.id),...u,...p],layoutOptions:{"org.eclipse.elk.portConstraints":"FIXED_ORDER"}}),e},[])},l=new Map(null==(n=(await a.layout(r)).children)?void 0:n.map(e=>[e.id,e]));return e.map(e=>{let t=l.get(e.id);return t&&void 0!==t.x&&void 0!==t.y&&(t.x!==e.position.x||t.y!==e.position.y)?{...e,position:{x:t.x,y:t.y},style:{...e.style,opacity:1}}:e})}},4838:(e,t,n)=>{n.d(t,{DropdownMenu:()=>a,DropdownMenuContent:()=>s,DropdownMenuTrigger:()=>i,_2:()=>l,lp:()=>c});var o=n(5155);n(2115);var r=n(9449),d=n(9434);function a(e){let{...t}=e;return(0,o.jsx)(r.bL,{"data-slot":"dropdown-menu",...t})}function i(e){let{...t}=e;return(0,o.jsx)(r.l9,{"data-slot":"dropdown-menu-trigger",...t})}function s(e){let{className:t,sideOffset:n=4,...a}=e;return(0,o.jsx)(r.ZL,{children:(0,o.jsx)(r.UC,{"data-slot":"dropdown-menu-content",sideOffset:n,className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...a})})}function l(e){let{className:t,inset:n,variant:a="default",...i}=e;return(0,o.jsx)(r.q7,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":a,className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function c(e){let{className:t,inset:n,...a}=e;return(0,o.jsx)(r.JU,{"data-slot":"dropdown-menu-label","data-inset":n,className:(0,d.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...a})}},5250:(e,t,n)=>{n.d(t,{useWorkflowRunner:()=>a});var o=n(2115),r=n(1603),d=n(8164);function a(){let[e,t]=(0,o.useState)([]),n=(0,o.useRef)(!1),{getNodes:a,setNodes:i,getEdges:s}=(0,d.C)((0,r.k)(e=>({getNodes:e.getNodes,setNodes:e.setNodes,getEdges:e.getEdges}))),l=(0,o.useCallback)(()=>{n.current=!1,t(e=>[...e,"Workflow stopped."])},[]),c=(0,o.useCallback)(()=>{i(a().map(e=>({...e,data:{...e.data,status:"initial"}})))},[a,i]),u=(0,o.useCallback)((e,t)=>{i(a().map(n=>n.id===e?{...n,data:{...n.data,status:t}}:n))},[i,a]),p=(0,o.useCallback)(async e=>{if(u(e.id,"loading"),t(t=>[...t,"".concat(e.data.title," processing...")]),await new Promise(e=>setTimeout(e,2e3)),!n.current)return void c();u(e.id,"success")},[u,c]);return{logMessages:e,runWorkflow:(0,o.useCallback)(async e=>{var o;if(n.current)return;let r=a(),d=s();n.current=!0;let i=e||(null==(o=r.find(e=>!d.some(t=>t.target===e.id)))?void 0:o.id);if(i){for(let e of(t(["Starting workflow..."]),function(e,t,n){let o=[],r=new Set;return!function n(d){if(r.has(d))return;r.add(d);let a=e.find(e=>e.id===d);if(a)for(let e of(o.push(a),t.filter(e=>e.source===d)))n(e.target)}(n),o}(r,d,i))){if(!n.current)break;await p(e)}n.current&&t(e=>[...e,"Workflow processing complete."]),n.current=!1}},[a,s,p]),stopWorkflow:l,isRunning:n.current}}},6130:(e,t,n)=>{n.d(t,{O:()=>i});var o=n(5155),r=n(2115),d=n(1772),a=n(9434);let i=(0,r.forwardRef)((e,t)=>{let{className:n,children:r,...i}=e;return(0,o.jsx)(d.Handle,{ref:t,...i,className:(0,a.cn)("h-[11px] w-[11px] rounded-full border border-slate-300 bg-slate-100 transition dark:border-secondary dark:bg-secondary",n),...i,children:r})});i.displayName="BaseHandle"},8164:(e,t,n)=>{n.d(t,{AppStoreProvider:()=>w,C:()=>N});var o=n(5155),r=n(2115),d=n(5453),a=n(6786),i=n(1772),s=n(9476);async function l(e){}var c=n(2649);let u={WORKFLOW:"workflow",SMOOTHSTEP:"smoothstep",STRAIGHT:"straight",DEFAULT:"default",STEP:"step"},p=(e,t,n,o)=>({id:"".concat(e,"-").concat(n,"-").concat(t,"-").concat(o),source:e,target:t,sourceHandle:n,targetHandle:o,type:u.WORKFLOW,animated:!0}),g=[(0,c._O)({type:"initial-node",id:"workflowNode_1"}),(0,c._O)({type:"branch-node",id:"workflowNode_2"}),(0,c._O)({type:"transform-node",id:"workflowNode_3"}),(0,c._O)({type:"output-node",id:"workflowNode_4"}),(0,c._O)({type:"output-node",id:"workflowNode_5"}),(0,c._O)({type:"branch-node",id:"workflowNode_6"}),(0,c._O)({type:"transform-node",id:"workflowNode_7"}),(0,c._O)({type:"transform-node",id:"workflowNode_8"})],f=[p("workflowNode_1","workflowNode_2"),p("workflowNode_2","workflowNode_3","true"),p("workflowNode_3","workflowNode_4"),p("workflowNode_2","workflowNode_5","false"),p("workflowNode_6","workflowNode_7","true"),p("workflowNode_6","workflowNode_8","false")];var h=n(4801),v=n(815);let y={nodes:g.map(e=>({...e,style:{opacity:0}})),edges:f.map(e=>({...e,style:{opacity:0}})),colorMode:"light",layout:"free",interactiveMode:!0,edgeType:u.SMOOTHSTEP,columnWidth:365,gutterWidth:100,rowpadHeight:80,draggedNodes:new Map,connectionSites:new Map,potentialConnection:void 0,selectedNode:null,selectedEdge:null},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=(0,d.v)()((0,a.eh)((t,n)=>({...e,onNodesChange:async e=>{let o=(0,i.applyNodeChanges)(e,n().nodes);t({nodes:o}),"fixed"===n().layout&&e.some(e=>"dimensions"===e.type)?t({nodes:await (0,h.R)(o,n().edges)}):t({nodes:o})},setNodes:e=>t({nodes:e}),addNode:e=>{t({nodes:[...n().nodes,e]})},removeNode:e=>t({nodes:n().nodes.filter(t=>t.id!==e)}),addNodeByType:(e,t)=>{let o=(0,c._O)({type:e,position:t});return o?(n().addNode(o),o.id):null},getNodes:()=>n().nodes,addNodeInBetween:e=>{let{source:o,target:r,type:d,sourceHandleId:a,targetHandleId:i,position:s}=e,l=n().addNodeByType(d,s);if(!l)return;n().removeEdge("".concat(o,"-").concat(a,"-").concat(r,"-").concat(i));let u=c.Ay[d].handles,g=u.find(e=>"source"===e.type),f=u.find(e=>"target"===e.type),h=[];f&&o&&h.push(p(o,l,a,f.id)),g&&r&&h.push(p(l,r,g.id,i)),t({edges:[...n().edges,...h]})},setEdges:e=>t({edges:e}),getEdges:()=>n().edges,addEdge:e=>{t({edges:(0,s.rN)(e,n().edges)})},removeEdge:e=>{t({edges:n().edges.filter(t=>t.id!==e)})},onEdgesChange:e=>{t({edges:(0,i.applyEdgeChanges)(e,n().edges)})},onConnect:e=>{let t={...e,type:"workflow",id:"".concat(e.source,"-").concat(e.target),animated:!0};n().addEdge(t)},toggleDarkMode:()=>t(e=>({colorMode:"dark"===e.colorMode?"light":"dark"})),toggleLayout:()=>t(e=>({layout:"fixed"===e.layout?"free":"fixed"})),toggleInteractiveMode:()=>t(e=>({interactiveMode:!e.interactiveMode})),setInteractiveMode:e=>t(t=>({interactiveMode:e})),setEdgeType:e=>t({edgeType:e}),setColumnWidth:e=>t({columnWidth:e}),setGutterWidth:e=>t({gutterWidth:e}),setRowpadHeight:e=>t({rowpadHeight:e}),checkForPotentialConnection:(e,o)=>{let r={distance:1/0,potentialConnection:void 0};for(let t of n().connectionSites.values()){var d;if((null==o||null==(d=o.exclude)?void 0:d.includes(t.id))||(null==o?void 0:o.type)&&o.type&&o.type===t.type)continue;let n=Math.hypot(t.position.x-e.x,t.position.y-e.y);n<r.distance&&(r.distance=n,r.potentialConnection=t)}t({potentialConnection:r.distance<150?r.potentialConnection:void 0})},resetPotentialConnection:()=>{t({potentialConnection:void 0})},onNodeDragStart:(e,n,o)=>{t({draggedNodes:new Map(o.map(e=>[e.id,e]))})},onNodeDragStop:()=>{t({draggedNodes:new Map}),t({potentialConnection:void 0})},setSelectedNode:e=>{t({selectedNode:e,selectedEdge:null})},setSelectedEdge:e=>{t({selectedEdge:e,selectedNode:null})},restoreFromLocalStorage:()=>{let e=(0,v.z)();if(e){var n,o;let r=((n=e.edges||[],false),0===n.length||void 0==n[0].type)?u.SMOOTHSTEP:(o=n[0].type,Object.values(u).includes(o))?n[0].type:u.SMOOTHSTEP;return t({nodes:e.nodes||[],edges:e.edges||[],edgeType:r}),{nodes:e.nodes||[],edges:e.edges||[],viewport:e.viewport||null}}return null}})));return t.subscribe(e=>e.colorMode,async e=>{var t;null==(t=document.querySelector("html"))||t.classList.toggle("dark","dark"===e),await l(e)}),t},x=(0,r.createContext)(void 0),w=e=>{let{children:t,initialState:n}=e,d=(0,r.useRef)();return d.current||(d.current=m(n)),(0,o.jsx)(x.Provider,{value:d.current,children:t})},N=e=>{let t=(0,r.useContext)(x);if(!t)throw Error("useAppStore must be used within AppStoreProvider");return(0,d.P)(t,e)}},8420:(e,t,n)=>{n.d(t,{O:()=>l});var o=n(9964),r=n(4833),d=n(8860),a=n(3428),i=n(437),s=n(6877);let l={Rocket:o.A,Spline:r.A,Split:d.A,Merge:a.A,CheckCheck:i.A,Ban:s.A}},9434:(e,t,n)=>{n.d(t,{cn:()=>d});var o=n(2596),r=n(9688);function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.QP)((0,o.$)(t))}}}]);